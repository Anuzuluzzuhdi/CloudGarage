"use strict";!function(e,t){function n(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function i(){var e=t(t(".nk-content").children()[0]).attr("data-title"),n=akun.company;t("title").text(e+" - "+n+" - Link.Id")}e.Package.name="DashLite",e.Package.version="2.3";var a=t(window),o=t("body"),s=t(document),r="nk-menu",l="nk-lkheader",c="nk-lkheader-menu",d=e.Break;e.ClassNavMenu=function(){e.BreakClass("."+c,d.lg,{timeOut:0}),a.on("resize",function(){e.BreakClass("."+c,d.lg)})},e.ChangeTeam=function(){function e(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}var n=[{id:1,name:"PT. Universal Big Data",identity:"UBIG",role:"Administrator",img:"/linkid/images/crm/brand/b.png"},{id:2,name:"PT. You Profit Indonesia",identity:"UPROFIT",role:"Manager",img:"/linkid/images/crm/brand/a.png"},{id:3,name:"PT. Brantas Karangkates",identity:"BRANTAS",role:"User",img:"/linkid/images/crm/brand/b.png"}],i=/:\/\/([^\/]+)/.exec(window.location.href)[1],a=i.split("."),o=a[0].split("-"),s=n.map(function(e){return e.identity.toLowerCase()}).indexOf(o[0]);t("#list-team").html(n.map(function(e){var t=e.identity.toLowerCase(),n="";return n=t==o[0]?"<small class='time'>Active</small>":"",`<li id="org-${e.id}">\n      <!-- start message -->\n      <a href="http://${t}-lokal.link.id">\n          <div class="pull-left">\n              <img src="${e.img}"\n                  class="imgCircle bg-white"\n                  style="border-radius: 50%;border: 2px solid #4c97d8;max-height: 32px;max-width: 32px;"\n                  alt="User Image">\n          </div>\n          <h4 class="chat-from">\n              ${n}\n              <span class="name">${e.name}</span>\n              <div class="name-org" hidden>${e.identity}</div>\n          </h4>\n          <p>${e.identity}</p>\n      </a>\n  </li>`}).join("\n")),s<0?t("#orgActive").html('<i class="fa fa-building"></i>\n  <span class="hidden-xs" style="margin-left: 7px;">Organization</span>'):(t("#orgActive").html(`<img src="${n[s].img}" class="imgCircle"\n      style="border-radius: 50%;border: 2px solid #4c97d8;max-height: 32px;max-width: 32px;background-color: white;">\n  <span class="hidden-xs" style="margin-left: 7px;">${n[s].identity}</span>`),n.forEach(i=>{i.id==n[s].id&&t("#org-"+i.id).insertBefore("#list-team li:eq(0)"),t("#org-"+i.id).on("click",function(){let t=e("CSRF-TOKEN");localStorage.setItem("lokal.link.id",t)})}))},e.SetTitle=function(){i()},e.InputNumber=function(){var e;null==localStorage.getItem("non_num")||""==localStorage.getItem("non_num")?(e={decimalCharacter:".",decimalPlaces:2,digitalGroupSpacing:"3",digitGroupSeparator:",",leadingZero:"deny"},t(".input-number").each(function(){new AutoNumeric(this,e)})):(e=JSON.parse(localStorage.getItem("non_num")),t(".input-number").each(function(){new AutoNumeric(this,e)}))},e.Logout=function(){t("#lkbtn-logout").on("click",function(){localStorage.removeItem("token")})},e.Prettify=function(){window.prettyPrint&&prettyPrint()},e.Copied=function(){function e(e,n){var s=t(e),r=s.parent(),l={text:"Copy",done:"Copied",fail:"Failed"},c={text:s.data("clip-text"),done:s.data("clip-success"),fail:s.data("clip-error")};l.text=c.text?c.text:l.text,l.done=c.done?c.done:l.done,l.fail=c.fail?c.fail:l.fail;var d="success"===n?l.done:l.fail,u="success"===n?a:o;r.addClass(u).find(i).html(d),setTimeout(function(){r.removeClass(a+" "+o).find(i).html(l.text).blur(),r.find("input").blur()},2e3)}var n=".clipboard-init",i=".clipboard-text",a="clipboard-success",o="clipboard-error";if(ClipboardJS.isSupported()){var s=new ClipboardJS(n);s.on("success",function(t){e(t.trigger,"success"),t.clearSelection()}).on("error",function(t){e(t.trigger,"error")})}else t(n).css("display","none")},e.CurrentLink=function(){var e=".nk-menu-link, .menu-link, .lknav-link",n=window.location.hash;t(e).each(function(){var e=t(this),i=e.attr("href");n==i?(e.closest("li").addClass("active current-page").parents().closest("li").addClass("active current-page"),e.closest("li").children(".nk-menu-sub").css("display","block"),e.parents().closest("li").children(".nk-menu-sub").css("display","block")):e.closest("li").removeClass("active current-page").parents().closest("li:not(.current-page)").removeClass("active")}),t(window).on("hashchange",function(){var e=".nk-menu-link, .menu-link, .lknav-link",n=window.location.hash;t(e).each(function(){var e=t(this),i=e.attr("href");n==i?(e.closest("li").addClass("active current-page").parents().closest("li").addClass("active current-page"),e.closest("li").children(".nk-menu-sub").css("display","block"),e.parents().closest("li").children(".nk-menu-sub").css("display","block")):e.closest("li").removeClass("active current-page").parents().closest("li:not(.current-page)").removeClass("active")})})},e.PassSwitch=function(){e.Passcode(".passcode-switch")},e.Toast=function(e,t,i){t=t||"info";var a="",o="info"===t?"ni ni-info-fill":"success"===t?"ni ni-check-circle-fill":"error"===t?"ni ni-cross-circle-fill":"warning"===t?"ni ni-alert-fill":"",s={position:"bottom-right",ui:"",icon:"auto",clear:!1},r=i?n(s,i):s;if(r.position=r.position?"lktoast-"+r.position:"lktoast-bottom-right",r.icon="auto"===r.icon?o:r.icon?r.icon:"",r.ui=r.ui?" "+r.ui:"",a=""!==r.icon?'<span class="toastr-icon"><em class="icon '+r.icon+'"></em></span>':"",e=""!==e?a+'<div class="toastr-text">'+e+"</div>":"",""!==e){!0===r.clear&&toastr.clear();var l={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:r.position+r.ui,closeHtml:'<span class="lkbtn-trigger">Close</span>',preventDuplicates:!0,showDuration:"1500",hideDuration:"1500",timeOut:"3000",toastClass:"toastr",extendedTimeOut:"3000"};toastr.options=n(l,r),toastr[t](e)}},e.ResApi=function(e){switch(e.status){case 200:return e.text();case 204:case 400:case 401:case 403:case 404:case 405:case 500:break;default:console.log(e)}},e.TGL.screen=function(e){t(e).exists()&&t(e).each(function(){var e=t(this).data("toggle-screen");e&&t(this).addClass("toggle-screen-"+e)})},e.TGL.content=function(i,o){var r=i||".toggle",l=t(r),c=t("[data-content]"),u=!0,p=!1,g={active:"active",content:"content-active",break:u},f=o?n(g,o):g;e.TGL.screen(c),l.on("click",function(n){p=this,e.Toggle.trigger(t(this).data("target"),f),n.preventDefault()}),s.on("mouseup",function(n){if(p){var i=t(p),a=t(".lkselect2-container"),o=t(".datepicker-lkdropdown"),s=t(".ui-timepicker-container");i.is(n.target)||0!==i.has(n.target).length||c.is(n.target)||0!==c.has(n.target).length||a.is(n.target)||0!==a.has(n.target).length||o.is(n.target)||0!==o.has(n.target).length||s.is(n.target)||0!==s.has(n.target).length||(e.Toggle.removed(i.data("target"),f),p=!1)}}),a.on("resize",function(){c.each(function(){var n=t(this).data("content"),i=t(this).data("toggle-screen"),a=d[i];e.Win.width>a&&e.Toggle.removed(n,f)})})},e.TGL.expand=function(i,a){var o=i||".expand",s={toggle:!0},r=a?n(s,a):s;t(o).on("click",function(n){e.Toggle.trigger(t(this).data("target"),r),n.preventDefault()})},e.TGL.ddmenu=function(i,a){var o=i||".nk-menu-toggle",s={active:"active",self:"nk-menu-toggle",child:"nk-menu-sub"},r=a?n(s,a):s;t(o).on("click",function(n){e.Win.width<d.lg&&e.Toggle.dropMenu(t(this),r),n.preventDefault()})},e.TGL.showmenu=function(i,o){var r=i||".nk-lknav-toggle",u=t(r),p=t("[data-content]"),g=p.hasClass(c)?d.lg:d.xl,f=l+"-overlay",m={profile:!0,menu:!1},h={active:"toggle-active",content:l+"-active",body:"lknav-shown",overlay:f,break:g,close:m},v=o?n(h,o):h;u.on("click",function(n){e.Toggle.trigger(t(this).data("target"),v),n.preventDefault()}),s.on("mouseup",function(t){!u.is(t.target)&&0===u.has(t.target).length&&!p.is(t.target)&&0===p.has(t.target).length&&e.Win.width<g&&e.Toggle.removed(u.data("target"),v)}),a.on("resize",function(){(e.Win.width<d.xl||e.Win.width<g)&&e.Toggle.removed(u.data("target"),v)})},e.Ani.formSearch=function(e,i){var a={active:"active",timeout:400,target:"[data-search]"},o=i?n(a,i):a,r=t(e),l=t(o.target);r.exists()&&(r.on("click",function(e){e.preventDefault();var n=t(this),i=n.data("target"),a=t("[data-search="+i+"]"),s=t("[data-target="+i+"]");a.hasClass(o.active)?(s.add(a).removeClass(o.active),setTimeout(function(){a.find("input").val("")},o.timeout)):(s.add(a).addClass(o.active),a.find("input").focus())}),s.on({keyup:function(e){"Escape"===e.key&&r.add(l).removeClass(o.active)},mouseup:function(e){l.find("input").val()||l.is(e.target)||0!==l.has(e.target).length||r.is(e.target)||0!==r.has(e.target).length||r.add(l).removeClass(o.active)}}))},e.Ani.formElm=function(e,i){var a={focus:"focused"},o=i?n(a,i):a;t(e).exists()&&t(e).each(function(){var e=t(this);e.val()&&e.parent().addClass(o.focus),e.on({focus:function(){e.parent().addClass(o.focus)},blur:function(){e.val()||e.parent().removeClass(o.focus)}})})},e.Validate=function(e,i){t(e).exists()&&t(e).each(function(){var e={errorElement:"span"},a=i?n(e,i):e;t(this).validate(a)})},e.Validate.init=function(){e.Validate(".form-validate",{errorElement:"span",errorClass:"invalid",errorPlacement:function(e,t){t.parents().hasClass("lkinput-group")?e.appendTo(t.parent().parent()):e.appendTo(t.parent())}})},e.Dropzone=function(e,i){t(e).exists()&&t(e).each(function(){var a=t(e).data("max-files"),o=(a=a||null,t(e).data("max-file-size")),s=(o=o||256,t(e).data("accepted-files")),r=(s=s||null,{autoDiscover:!1,maxFiles:a,maxFilesize:o,acceptedFiles:s}),l=i?n(r,i):r;t(this).addClass("dropzone").dropzone(l)})},e.Dropzone.init=function(){e.Dropzone(".upload-zone",{url:"/images"})},e.Wizard=function(){var e=t(".nk-wizard").show();e.steps({headerTag:".nk-wizard-head",bodyTag:".nk-wizard-content",labels:{finish:"Submit",next:"Next",previous:"Prev",loading:"Loading ..."},onStepChanging:function(t,n,i){return n>i||(n<i&&(e.find(".body:eq("+i+") label.error").remove(),e.find(".body:eq("+i+") .error").removeClass("error")),e.validate().settings.ignore=":disabled,:hidden",e.valid())},onFinishing:function(t,n){return e.validate().settings.ignore=":disabled",e.valid()},onFinished:function(e,t){window.location.href="#"}}).validate({errorElement:"span",errorClass:"invalid",errorPlacement:function(e,t){e.appendTo(t.parent())}})},e.DataTable=function(e,i){t(e).exists()&&t(e).each(function(){var e=t(this).data("auto-responsive"),a=!(void 0===i.buttons||!i.buttons),o=t(this).data("export-title")?t(this).data("export-title"):"Export",s=a?'<"dt-export-buttons d-flex align-center"<"dt-export-title d-none d-md-inline-block">B>':"",r=a?" with-export":"",l='<"row justify-between g-2'+r+'"<"col-7 col-sm-4 text-left"f><"col-5 col-sm-8 text-right"<"datatable-filter"<"d-flex justify-content-end g-2"'+s+'l>>>><"datatable-wrap my-3"t><"row align-items-center"<"col-7 col-sm-12 col-md-9"p><"col-5 col-sm-12 col-md-3 text-left text-md-right"i>>',c='<"row justify-between g-2'+r+'"<"col-7 col-sm-4 text-left"f><"col-5 col-sm-8 text-right"<"datatable-filter"<"d-flex justify-content-end g-2"'+s+'l>>>><"my-3"t><"row align-items-center"<"col-7 col-sm-12 col-md-9"p><"col-5 col-sm-12 col-md-3 text-left text-md-right"i>>',d=t(this).hasClass("is-separate")?c:l,u={responsive:!0,autoWidth:!1,dom:d,language:{search:"",searchPlaceholder:"Type in to Search",lengthMenu:"<span class='d-none d-sm-inline-block'>Show</span><div class='lkform-control-select'> _MENU_ </div>",info:"_START_ -_END_ of _TOTAL_",infoEmpty:"No records found",infoFiltered:"( Total _MAX_  )",paginate:{first:"First",last:"Last",next:"Next",previous:"Prev"}}},p=i?n(u,i):u;p=!1===e?n(p,{responsive:!1}):p,t(this).DataTable(p),t(".dt-export-title").text(o)})},e.DataTable.init=function(){e.DataTable(".datatable-init",{responsive:{details:!0}}),e.DataTable(".datatable-init-export",{responsive:{details:!0},buttons:["copy","excel","csv","pdf"]}),t.fn.DataTable.ext.pager.numbers_length=7},e.BS.ddfix=function(n,i){var a=n||".lkdropdown-menu",o=i||"a:not(.clickable), button:not(.clickable), a:not(.clickable) *, button:not(.clickable) *";if(t(a).on("click",function(e){t(e.target).is(o)||e.stopPropagation()}),e.State.isRTL){var s=t(".lkdropdown-menu");s.each(function(){var e=t(this);e.hasClass("lkdropdown-menu-right")&&!e.hasClass("lkdropdown-menu-center")?e.prev('[data-toggle="lkdropdown"]').lkdropdown({popperConfig:{placement:"bottom-start"}}):e.hasClass("lkdropdown-menu-right")||e.hasClass("lkdropdown-menu-center")||e.prev('[data-toggle="lkdropdown"]').lkdropdown({popperConfig:{placement:"bottom-end"}})})}},e.BS.tabfix=function(e){var n=e||'[data-toggle="lkmodal"]';t(n).on("click",function(){var e=t(this),n=e.data("target"),i=e.attr("href"),a=e.data("lktab-target"),s=n?o.find(n):o.find(i);if(a&&"#"!==a&&s)s.find('[href="'+a+'"]').lktab("show");else if(s){var r=s.find(".nk-lknav.lknav-tabs"),l=t(r[0]).find('[data-toggle="lktab"]');t(l[0]).lktab("show")}})},e.ModeSwitch=function(){var e=t(".dark-switch");o.hasClass("dark-mode")?e.addClass("active"):e.removeClass("active"),e.on("click",function(e){e.preventDefault(),t(this).toggleClass("active"),o.toggleClass("dark-mode")})},e.Knob=function(e,i){if(t(e).exists()&&"function"==typeof t.fn.knob){var a={min:0},o=i?n(a,i):a;t(e).each(function(){t(this).knob(o)})}},e.Knob.init=function(){var t={default:{readOnly:!0,lineCap:"round"},half:{angleOffset:-90,angleArc:180,readOnly:!0,lineCap:"round"}};e.Knob(".knob",t.default),e.Knob(".knob-half",t.half)},e.Range=function(i,a){t(i).exists()&&"undefined"!=typeof noUiSlider&&t(i).each(function(){var i=t(this),o=i.attr("id"),s=i.data("start"),r=(s=/\s/g.test(s)?s.split(" "):s,s=s||0,i.data("connect")),l=(r=/\s/g.test(r)?r.split(" "):r,r=void 0===r?"lower":r,i.data("min")),c=(l=l||0,i.data("max")),d=(c=c||100,i.data("min-distance")),u=(d=d||null,i.data("max-distance")),p=(u=u||null,i.data("step")),g=(p=p||1,i.data("orientation")),f=(g=g||"horizontal",i.data("tooltip"));f=f||!1;console.log(f);var m=document.getElementById(o),h={start:s,connect:r,direction:e.State.isRTL?"rtl":"ltr",range:{min:l,max:c},margin:d,limit:u,step:p,orientation:g,tooltips:f},v=a?n(h,a):h;noUiSlider.create(m,v)})},e.Range.init=function(){e.Range(".lkform-control-slider"),e.Range(".form-range-slider")},e.Select2.init=function(){console.log("selecrt2"),e.Select2(".form-select")},e.Slick=function(i,a){t(i).exists()&&"function"==typeof t.fn.slick&&t(i).each(function(){var i={prevArrow:'<div class="slick-arrow-prev"><a href="javascript:void(0);" class="slick-prev"><em class="icon ni ni-chevron-left"></em></a></div>',nextArrow:'<div class="slick-arrow-next"><a href="javascript:void(0);" class="slick-next"><em class="icon ni ni-chevron-right"></em></a></div>',rtl:e.State.isRTL},o=a?n(i,a):i;t(this).slick(o)})},e.Slider.init=function(){e.Slick(".slider-init")},e.Lightbox=function(e,i,a){t(e).exists()&&t(e).each(function(){var e={};e="video"==i||"iframe"==i?{type:"iframe",removalDelay:160,preloader:!0,fixedContentPos:!1,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}}}:"content"==i?{type:"inline",preloader:!0,removalDelay:400,mainClass:"mfp-fade content-popup"}:{type:"image",mainClass:"mfp-fade image-popup"};var o=a?n(e,a):e;t(this).magnificPopup(o)})},e.Control=function(e){var t=document.querySelectorAll(e);t.forEach(function(e,t,n){e.checked&&e.parentNode.classList.add("checked"),e.addEventListener("change",function(){"checkbox"==e.type&&(e.checked?e.parentNode.classList.add("checked"):e.parentNode.classList.remove("checked")),"radio"==e.type&&(document.querySelectorAll('input[name="'+e.name+'"]').forEach(function(e,t,n){e.parentNode.classList.remove("checked")}),e.checked&&e.parentNode.classList.add("checked"))})})},e.NumberSpinner=function(e,t){var n=document.querySelectorAll("[data-number='plus']"),i=document.querySelectorAll("[data-number='minus']");n.forEach(function(e,t,i){n[t].parentNode;n[t].addEventListener("click",function(){var e=n[t].parentNode.children;e.forEach(function(t,n,i){if(e[n].classList.contains("number-spinner")){var a=""==!e[n].value?parseInt(e[n].value):0,o=""==!e[n].step?parseInt(e[n].step):1,s=""==!e[n].max?parseInt(e[n].max):1/0;e[n].value=s+1>a+o?a+o:a}})})}),i.forEach(function(e,t,n){i[t].parentNode;i[t].addEventListener("click",function(){var e=i[t].parentNode.children;e.forEach(function(t,n,i){if(e[n].classList.contains("number-spinner")){var a=""==!e[n].value?parseInt(e[n].value):0,o=""==!e[n].step?parseInt(e[n].step):1,s=""==!e[n].min?parseInt(e[n].min):0;e[n].value=s-1<a-o?a-o:a}})})})},e.OtherInit=function(){e.PassSwitch(),e.CurrentLink(),e.LinkOff(".is-disable"),e.ClassNavMenu(),e.SetHW("[data-height]","height"),e.SetHW("[data-width]","width"),e.NumberSpinner(),e.Lightbox(".popup-video","video"),e.Lightbox(".popup-iframe","iframe"),e.Lightbox(".popup-image","image"),e.Lightbox(".popup-content","content"),e.Control(".custom-control-input")},e.Ani.init=function(){e.Ani.formElm(".lkform-control-outlined"),e.Ani.formSearch(".toggle-search")},e.BS.init=function(){e.BS.menutip("a.nk-menu-link"),e.BS.tooltip(".nk-tooltip"),e.BS.tooltip(".lkbtn-tooltip",{placement:"top"}),e.BS.tooltip('[data-toggle="tooltip"]'),e.BS.tooltip(".tipinfo,.nk-menu-tooltip",{placement:"right"}),e.BS.lkpopover('[data-toggle="lkpopover"]'),e.BS.progress("[data-progress]"),e.BS.fileinput(".custom-file-input"),e.BS.modalfix(),e.BS.ddfix(),e.BS.tabfix()},e.Picker.init=function(){e.Picker.date(".date-picker"),e.Picker.dob(".date-picker-alt"),e.Picker.time(".time-picker"),e.Picker.date(".date-picker-range",{todayHighlight:!1,autoclose:!1})},e.Addons.Init=function(){e.Knob.init(),e.Range.init(),e.Select2.init(),e.Dropzone.init(),e.Slider.init(),e.DataTable.init()},e.TGL.init=function(){e.TGL.content(".toggle"),e.TGL.expand(".toggle-expand"),e.TGL.expand(".toggle-opt",{toggle:!1}),e.TGL.showmenu(".nk-lknav-toggle"),e.TGL.ddmenu("."+r+"-toggle",{self:r+"-toggle",child:r+"-sub"})},e.TGLmdl=function(){console.log(1),e.TGL.content(".nk-content .toggle"),e.TGL.expand(".nk-content .toggle-expand"),e.TGL.expand(".nk-content .toggle-opt",{toggle:!1}),e.TGL.showmenu(".nk-content .nk-lknav-toggle"),e.TGL.ddmenu(".nk-content ."+r+"-toggle",{self:r+"-toggle",child:r+"-sub"})},e.BS.modalOnInit=function(){t(".lkmodal").on("shown.bs.lkmodal",function(){e.Select2.init(),e.Validate.init()})},e.init=function(){e.coms.docReady.push(e.OtherInit),e.coms.docReady.push(e.Prettify),e.coms.docReady.push(e.Logout),e.coms.docReady.push(e.InputNumber),e.coms.docReady.push(e.ChangeTeam),e.coms.docReady.push(e.ColorBG),e.coms.docReady.push(e.ColorTXT),e.coms.docReady.push(e.Copied),e.coms.docReady.push(e.Ani.init),e.coms.docReady.push(e.TGL.init),e.coms.docReady.push(e.BS.init),e.coms.docReady.push(e.Validate.init),e.coms.docReady.push(e.Picker.init),e.coms.docReady.push(e.Addons.Init),e.coms.docReady.push(e.Wizard),e.coms.winLoad.push(e.ModeSwitch)},e.init()}(NioApp,jQuery),window.onerror=function(e){if("ResizeObserver loop limit exceeded"===e)return!1};